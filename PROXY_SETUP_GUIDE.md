# ShadowsocksR ä»£ç†é…ç½®æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ é…ç½®Trading Consoleé¡¹ç›®é€šè¿‡ShadowsocksRä»£ç†è®¿é—®OKXç­‰æµ·å¤–äº¤æ˜“æ‰€APIã€‚

## å‰ææ¡ä»¶

1. **ShadowsocksRå®¢æˆ·ç«¯å·²å®‰è£…å¹¶æ­£å¸¸å·¥ä½œ**
   - ç¡®ä¿SSRå®¢æˆ·ç«¯å¯ä»¥æ­£å¸¸è®¿é—®æµ·å¤–ç½‘ç«™
   - è®°å½•æœ¬åœ°SOCKS5ç«¯å£å·ï¼ˆé€šå¸¸æ˜¯1080æˆ–1081ï¼‰

2. **Pythonç¯å¢ƒ**
   - Python 3.8+
   - å·²å®‰è£…é¡¹ç›®ä¾èµ–

## é…ç½®æ­¥éª¤

### 1. æ£€æŸ¥ShadowsocksRè®¾ç½®

åœ¨ShadowsocksRå®¢æˆ·ç«¯ä¸­ç¡®è®¤ä»¥ä¸‹è®¾ç½®ï¼š
- âœ… æœåŠ¡å™¨è¿æ¥æ­£å¸¸
- âœ… æœ¬åœ°ç«¯å£è®¾ç½®ï¼ˆé»˜è®¤1080ï¼‰
- âœ… å¼€å¯"å…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥"
- âœ… ä»£ç†æ¨¡å¼è®¾ç½®ä¸º"å…¨å±€æ¨¡å¼"æˆ–"PACæ¨¡å¼"

### 2. é…ç½®ç¯å¢ƒå˜é‡

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼Œæ·»åŠ ä»£ç†é…ç½®ï¼š

```bash
# ä»£ç†é…ç½®
USE_PROXY=true
PROXY_HOST=127.0.0.1
PROXY_PORT=1080        # ä¿®æ”¹ä¸ºä½ çš„SSRç«¯å£
PROXY_TYPE=socks5
PROXY_USERNAME=
PROXY_PASSWORD=
```

### 3. å®‰è£…ä¾èµ–

```powershell
cd backend
pip install -r requirements.txt
```

### 4. æµ‹è¯•ä»£ç†è¿æ¥

è¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼š
```powershell
python quick_proxy_test.py
```

è¿è¡Œå®Œæ•´æµ‹è¯•ï¼š
```powershell
python test_proxy.py
```

### 5. ä½¿ç”¨è‡ªåŠ¨é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

è¿è¡ŒPowerShellè„šæœ¬è‡ªåŠ¨é…ç½®ï¼š
```powershell
cd backend
.\setup_proxy.ps1
```

## éªŒè¯é…ç½®

### æˆåŠŸæ ‡å¿—
å¦‚æœçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜é…ç½®æˆåŠŸï¼š
```
âœ… ç«¯å£å¯è®¿é—®ï¼ŒShadowsocksRå¯èƒ½æ­£åœ¨è¿è¡Œ
âœ… è¿æ¥æˆåŠŸ: https://httpbin.org/ip
   å¤–éƒ¨IP: ä½ çš„ä»£ç†IP
âœ… è¿æ¥æˆåŠŸ: https://www.okx.com
ğŸ‰ ä»£ç†é…ç½®æˆåŠŸï¼å¯ä»¥è®¿é—®æµ·å¤–ç½‘ç«™ã€‚
```

### å¸¸è§é—®é¢˜æ’è§£

#### 1. ç«¯å£è¿æ¥å¤±è´¥
```
âŒ ç«¯å£æ— æ³•è®¿é—®ï¼Œè¯·æ£€æŸ¥ShadowsocksRæ˜¯å¦è¿è¡Œ
```
**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®è®¤SSRå®¢æˆ·ç«¯æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ç«¯å£å·æ˜¯å¦æ­£ç¡®
- å°è¯•é‡å¯SSRå®¢æˆ·ç«¯

#### 2. ä»£ç†è¿æ¥è¶…æ—¶
```
âŒ è¿æ¥å¼‚å¸¸: timeout
```
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥SSRæœåŠ¡å™¨æ˜¯å¦æ­£å¸¸
- å°è¯•åˆ‡æ¢ä¸åŒçš„SSRæœåŠ¡å™¨
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

#### 3. SOCKS5åè®®é”™è¯¯
```
âŒ SOCKS5 proxy error
```
**è§£å†³æ–¹æ¡ˆï¼š**
- ç¡®è®¤SSRå®¢æˆ·ç«¯SOCKS5è®¾ç½®æ­£ç¡®
- æ£€æŸ¥"å…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥"æ˜¯å¦å¼€å¯
- å°è¯•é‡æ–°å®‰è£…pysocks: `pip install --upgrade pysocks`

## ä¸åŒSSRå®¢æˆ·ç«¯é…ç½®

### ShadowsocksR-Windows
1. å³é”®ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡
2. é€‰æ‹©"é€‰é¡¹è®¾ç½®"
3. ç¡®è®¤"æœ¬åœ°ç«¯å£"ï¼ˆé»˜è®¤1080ï¼‰
4. å‹¾é€‰"å…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥"

### ShadowsocksX-NG (macOS)
1. æ‰“å¼€åå¥½è®¾ç½®
2. æŸ¥çœ‹"æœ¬åœ°SOCKS5ç›‘å¬ç«¯å£"
3. ç¡®ä¿"å…è®¸å±€åŸŸç½‘è¿æ¥"å·²å¼€å¯

### V2rayN
1. å‚æ•°è®¾ç½® -> Core:åŸºç¡€è®¾ç½®
2. æŸ¥çœ‹"æœ¬åœ°ç›‘å¬ç«¯å£"
3. ç¡®ä¿"å…è®¸æ¥è‡ªå±€åŸŸç½‘çš„è¿æ¥"å·²å‹¾é€‰

## é¡¹ç›®è¿è¡Œ

é…ç½®å®Œæˆåï¼Œå¯ä»¥æ­£å¸¸å¯åŠ¨é¡¹ç›®ï¼š

### æœ¬åœ°å¼€å‘æ¨¡å¼
```powershell
cd backend
python main.py
```

### Dockeræ¨¡å¼
```powershell
# åœ¨é¡¹ç›®æ ¹ç›®å½•
docker-compose up -d
```

## éªŒè¯OKXè¿æ¥

å¯åŠ¨é¡¹ç›®åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

1. **Webç•Œé¢æµ‹è¯•**
   - è®¿é—® http://localhost:3000
   - ç™»å½•è´¦æˆ·
   - æ·»åŠ OKXäº¤æ˜“æ‰€é…ç½®
   - æµ‹è¯•è¿æ¥

2. **APIæµ‹è¯•**
   ```bash
   curl -X POST http://localhost:8000/api/exchanges/test \
   -H "Content-Type: application/json" \
   -d '{
     "exchange_name": "okx",
     "api_key": "your_api_key",
     "api_secret": "your_secret",
     "api_passphrase": "your_passphrase",
     "is_testnet": true
   }'
   ```

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥å®‰å…¨**
   - ä½¿ç”¨åªè¯»æƒé™çš„APIå¯†é’¥è¿›è¡Œæµ‹è¯•
   - ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç APIå¯†é’¥
   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¯å¢ƒå˜é‡

2. **ä»£ç†å®‰å…¨**
   - ç¡®ä¿SSRæœåŠ¡å™¨å¯ä¿¡
   - å®šæœŸæ›´æ–°SSRå®¢æˆ·ç«¯
   - ä¸è¦åœ¨å…¬å…±ç½‘ç»œä¸Šè¿è¡Œä»£ç†

3. **æ—¥å¿—å®‰å…¨**
   - ä»£ç†æµ‹è¯•æ—¶ä¼šè®°å½•å¤–éƒ¨IP
   - ç”Ÿäº§ç¯å¢ƒæ³¨æ„æ—¥å¿—æ•æ„Ÿä¿¡æ¯

## æ•…éšœæ’é™¤å‘½ä»¤

```powershell
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | findstr :1080

# æµ‹è¯•SOCKS5ä»£ç†
curl --socks5 127.0.0.1:1080 https://httpbin.org/ip

# æŸ¥çœ‹Pythonç½‘ç»œè¿æ¥
python -c "import requests; print(requests.get('https://httpbin.org/ip', proxies={'https':'socks5://127.0.0.1:1080'}).json())"
```

## æ”¯æŒçš„äº¤æ˜“æ‰€

é€šè¿‡ä»£ç†é…ç½®ï¼Œé¡¹ç›®æ”¯æŒä»¥ä¸‹æµ·å¤–äº¤æ˜“æ‰€ï¼š
- âœ… OKX (okx.com)
- âœ… Binance (binance.com)
- âœ… Coinbase Pro
- âœ… Kraken
- âœ… Bitfinex

å›½å†…äº¤æ˜“æ‰€ï¼ˆæ— éœ€ä»£ç†ï¼‰ï¼š
- âœ… ç«å¸ (huobi.com)
- âœ… æŠ¹èŒ¶ (mexc.com)

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ `proxy_test.log` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚
